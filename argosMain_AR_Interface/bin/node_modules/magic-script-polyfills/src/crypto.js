import { openSync, readSync, closeSync } from './fs-uv.js';

function getRandomValues(typedArray) {
    const buffer = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);
    const fd = openSync("/dev/urandom", "r", 0o400);
    try {
        readSync(fd, buffer, 0);
    }
    finally {
        closeSync(fd);
    }
    return typedArray;
}
const crypto = {
    getRandomValues,
};

export { crypto, getRandomValues };
